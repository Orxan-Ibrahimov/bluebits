<div class="admin-page">
    <p-card header="View Order" subheader="You can look and edit order"></p-card>

    <div class="p-grid">
        <div class="p-col-12 my-2">
            <p-fieldset legend="Order Details" [toggleable]="true">
                <div class="grid">
                    <div class="col-4">
                        <h5>OrderId</h5>
                        <p>{{order.id}}</p>
                    </div>
                    <div class="col-4">
                        <h5>Order Date</h5>
                        <p>{{ order.dateOrdered | date: 'short' }}</p>
                    </div>
                    <div class="col-4">
                        <h5>Order Status</h5>
                        <p-dropdown [options]="statusses" [(ngModel)]="selectedStatus" optionLabel="name"></p-dropdown>
                    </div>
                    <div class="col-4">
                        <h5>Order Total Price</h5>
                        <p>{{ order.totalPrice | currency: "$" }}</p>
                    </div>
                   </div>
            </p-fieldset>   
           
        </div>

        <div class="p-col-12 my-2">
            <p-fieldset legend="Order Items" [toggleable]="true">
                <div class="grid">
                    <div class="col-2">
                        <h5>Name</h5>
                    </div>
                    <div class="col-2">
                        <h5>Brand</h5>
                    </div>
                    <div class="col-2">
                        <h5>Category</h5>
                    </div>
                    <div class="col-2">
                        <h5>Price</h5>
                    </div>
                    <div class="col-2">
                        <h5>Quantity</h5>
                    </div>
                    <div class="col-2">
                        <h5>SubTotal</h5>
                    </div>
                </div>

                <div class="grid" *ngFor="let item of order.orderItems">
                    <div class="col-2">
                        <p>{{ item.product.name }}</p>
                    </div>
                    <div class="col-2">
                        <p>{{ item.product.brand }}</p>
                    </div>
                    <div class="col-2">
                        <p>{{ item.product.category.name }}</p>
                    </div>
                    <div class="col-2">
                        <p>{{ item.product.price | currency: '$'}}</p>
                    </div>
                    <div class="col-2">
                        <p>{{ item.quantity }}</p>
                    </div>
                    <div class="col-2">
                        <p>{{ item.product.price * item.quantity | currency: '$'}}</p>
                    </div>                    
                </div>

                <div class="grid" style="color: green; font-weight: bold;">
                    <div class="col-2 col-offset-8">
                        <p>Total Price :</p>
                    </div>
                    <div class="col-2">
                        <p>{{ order.totalPrice | currency: '$'}}</p>
                    </div>
                </div>                   
            </p-fieldset>   
           
        </div>

        <div class="p-col-12 my-2">
            <p-fieldset legend="Order Address" [toggleable]="true">
                <div class="grid">
                    <div class="col-4">
                        <h5>Order Address</h5>
                        <p>
                            {{ order.shippingAddress1 }} <br>
                            {{ order.city }} <br>
                            {{ order.country }} <br>
                        </p>
                    </div>
                    <div class="col-4">
                        <h5>Customer Info</h5>
                        <p>{{order.user.name}}</p>
                    </div>
                    <div class="col-4">
                        <h5>Contact info</h5>
                        <p>{{ order.user.phone}}</p>
                    </div>
                </div>             
             </p-fieldset>              
        </div>
    </div>  
</div>